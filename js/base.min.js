/**
 * @package Cotonti
 * @copyright (c) Cotonti Team
 * @license https://github.com/Cotonti/Cotonti/blob/master/License.txt
 */
function encodeURIfix(e){return encodeURI(decodeURI(e)).replace(/%5B/g,"[").replace(/%5D/g,"]")}function getBaseHref(){var e=document.getElementsByTagName("base")[0].href;return null==e?"/":e}function popup(e,t,n){window.open(getBaseHref()+"index.php?o="+e,"","toolbar=0,location=0,directories=0,menuBar=0,resizable=0,scrollbars=yes,width="+t+",height="+n+",left=32,top=16")}function pfs(e,t,n,o){window.open(getBaseHref()+"index.php?e=pfs&userid="+e+"&c1="+t+"&c2="+n+"&parser="+o,"PFS","status=1, toolbar=0,location=0,directories=0,menuBar=0,resizable=1,scrollbars=yes,width=754,height=512,left=32,top=16")}function redirect(e){location.href=e.options[e.selectedIndex].value}function toggleblock(e){var t=document.getElementById(e);return"none"==t.style.display?t.style.display="":t.style.display="none",!1}function toggleAll(e){var t=document.querySelectorAll('[id^="blk_"]');for(i=0;i<t.length;i++)"hide"==e?t[i].style.display="none":"show"==e&&(t[i].style.display="table-row-group");return!1}function insertText(e,t,n){var o=null;e||(e=document);e:for(var a=0;a<e.forms.length;a++)for(var s=0;s<e.forms[a].elements.length;s++)if(e.forms[a].elements[s].name==t){o=e.forms[a].elements[s];break e}if(!o)return!1;if(e.selection)o.focus(),e.selection.createRange().text=n;else if(o.selectionStart||0==o.selectionStart){var i=o.selectionStart,r=o.selectionEnd;o.value=o.value.substring(0,i)+n+o.value.substring(r,o.value.length)}else o.value+=n;return!0}(()=>{"use strict";class e{eventsUrl=null;#e=null;onEvent=null;constructor(e,t=null){this.eventsUrl=e,null!==t&&(this.mode=t),this.init()}init(){null===this.#e&&("production"!==this.mode&&console.log("init ServerSentEventsClient"),this.#e=new EventSource(this.eventsUrl),"production"!==this.mode&&(this.#e.onopen=function(e){console.log("ServerSentEventsClient connection is open")}),this.#e.onmessage=e=>{const t=JSON.parse(e.data);void 0!==t.data&&"string"==typeof t.data&&""!==t.data&&(t.data=JSON.parse(t.data)),t.id=e.lastEventId,this.#t(t)},"production"!==this.mode&&(this.#e.onerror=function(e){console.log("ServerSentEventsClient connection error")}))}#t(e){"production"!==this.mode&&console.log("ServerSentEventsClient: Server triggered event",e),"function"!=typeof this.onEvent&&console.error(this.constructor.name+".onEvent is not defined"),this.onEvent(e)}}class t{eventsUrl=null;#n=null;onEvent=null;mode="production";constructor(e,t=null){this.eventsUrl=e,null!==t&&(this.mode=t),this.init()}init(){null===this.#n&&("production"!==this.mode&&console.log("init ServerSentEvents driver"),this.#n=new e(this.eventsUrl,this.mode),this.#n.onEvent=e=>{this.onEventTriggered(e)})}onEventTriggered(e){"function"!=typeof this.onEvent&&console.error(this.constructor.name+".onEvent is not defined"),this.onEvent(e)}}class n extends t{init(){"production"!==this.mode&&console.log("init ServerSentEventsSharedWorker driver");try{const e=new SharedWorker("/js/sharedWorkerSSE.min.js").port;e.postMessage({config:{url:this.eventsUrl,mode:this.mode}}),e.onmessage=e=>{"production"!==this.mode&&console.log("ServerSentEventsSharedWorker event",e.data),this.onEventTriggered(e.data)}}catch(e){console.error(e)}}}class o{#o=null;#a=null;mode="production";constructor(){this.#a=new Map}addObserver(e,t,n){this.#a.set(e,{name:e,event:t,onEvent:n}),null===this.#o&&this.#s()}#s(){const e=getBaseHref()+"index.php?n=server-events";void 0!==typeof SharedWorker?("production"!==this.mode&&console.log("creating ServerSentEventsSharedWorker driver"),this.#o=new n(e,this.mode)):("production"!==this.mode&&console.log("creating ServerSentEvents driver"),this.#o=new t(e,this.mode)),this.#o.onEvent=e=>{this.#i(e)},this.#o.mode=this.mode}#i(e){"production"!==this.mode&&console.log("Server triggered event",e),this.#a.forEach((t=>{t.event===e.event&&"function"==typeof t.onEvent&&t.onEvent(e.data)}))}}class a{static containerClass="toast-container position-fixed bottom-0 end-0 p-3";title="";message="";hint="";type="";delay=5e3;#r=null;constructor(e,t,n="",o=""){void 0!==window.bootstrap?(this.title=e,this.message=t,this.hint=n,this.type=o):console.error('Bootstrap is not found. It is required for use "Toast" component')}show(){if(null===this.#r){let e=document.getElementById("toast-container");null===e&&(e=this.#l()),this.#r=e}const e=""!==this.title?`<strong class="me-auto">${this.title}</strong>`:"",t=""!==this.hint?`<small>${this.hint}</small>`:"",n=`<div class="toast${""!==this.type?` text-bg-${this.type}`:""}" role="alert" aria-live="assertive" aria-atomic="true" data-bs-delay="${this.delay}"><div class="toast-header">${e}${t}<button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button></div><div class="toast-body">${this.message}</div></div>`,o=document.createElement("div");o.innerHTML=n;const a=o.firstElementChild;this.#r.appendChild(a),new window.bootstrap.Toast(a).show(),this.#r.lastElementChild.addEventListener("hidden.bs.toast",(()=>{a.remove(),""===this.#r.innerHTML&&(this.#r.remove(),this.#r=null)}))}#l(){const e=document.createElement("div");return e.id="toast-container",e.className=a.containerClass,document.body.append(e),e}}class s{title="";content="";buttons=null;centered=!1;dialogClass="modal-dialog";#d=null;constructor(e,t,n){void 0!==window.bootstrap?(this.title=e,this.content=t,this.buttons=n):console.error('Bootstrap is not found. It is required for use "Modal" component')}show(){let e=this.dialogClass;this.centered&&(e+=" modal-dialog-centered");const t=`<div class="modal fade" id="CotontiDynamicModal" tabindex="-1" aria-labelledby="CotontiDynamicModalLabel" aria-hidden="true"><div class="${e}"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="CotontiDynamicModalLabel">${this.title}</h5><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div><div class="modal-body">${this.content}</div><div class="modal-footer"></div></div></div></div>`,n=document.createElement("div");n.innerHTML=t,this.#d=n.firstElementChild,this.#c(),document.body.appendChild(this.#d),new bootstrap.Modal(this.#d).show(),this.#d.addEventListener("hidden.bs.modal",(()=>{this.#d.remove()}))}#c(){const e=this.#h();if(""===e||e===[])return;const t=this.#d.querySelector(".modal-footer");"string"!=typeof e?Array.isArray(e)&&e.forEach((e=>{"string"!=typeof e?t.appendChild(e):t.innerHTML+=e})):t.innerHTML=e}#h(){const e=[];let t=this.buttons;return t===[]?e:null===t?'<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>':"string"==typeof t?t:(Array.isArray(t)&&t.forEach((t=>{if("string"==typeof t)return void e.push(t);const n=document.createElement("button");void 0!==t.label&&(n.innerHTML=t.label),n.setAttribute("type",void 0!==t.btnType?t.btnType:"button"),n.classList.add("btn"),void 0!==t.type&&n.classList.add("btn-"+t.type),void 0!==t.closeOnClick&&!0===t.closeOnClick&&n.setAttribute("data-bs-dismiss","modal"),void 0!==t.onClick&&"function"==typeof t.onClick&&n.addEventListener("click",(e=>t.onClick(e))),e.push(n)})),e)}}window.cot=new class{#u=null;getServerEvents(){return null===this.#u&&(this.#u=new o),this.#u}confirm(e,t,n,o="Ok",a="Cancel"){this.modal(e,t,[{label:o,onClick:e=>n(e),type:"primary",closeOnClick:!0},{label:a,closeOnClick:!0,type:"secondary"}])}getModal(e,t,n=null){return new s(e,t,n)}modal(e,t,n=null){const o=this.getModal(e,t,n);return o.show(),o}getToast(e,t,n="",o=""){return new a(e,t,n,o)}toast(e,t,n="",o="",a=5e3){const s=this.getToast(e,t,n,o);return null!==a&&(s.delay=a),s.show(),s}async loadData(e){if(!e)return{};void 0===this.loadedData&&(this.loadedData={});let t=[];("string"==typeof e||e instanceof String)&&(e=[e]);for(let n of e)n in this.loadedData||t.push(n);if(t.length>0){let n=new URLSearchParams({n:"main",a:"get"});t.forEach(((e,t,o)=>{n.append("data["+t+"]",e)})),n.append("_ajax",1);try{let e=await fetch("index.php?"+n.toString());if(e.ok){const t=await e.json();if(t.success)for(const e in t.data)this.loadedData[e]=t.data[e]}}catch(e){}}let n={};for(let t of e)t in this.loadedData&&(n[t]=this.loadedData[t]);return n}loadCaptcha(){this.loadData(["captcha","x"]).then((e=>{let t=document.querySelectorAll(".captcha-place-holder");for(let n of t){n.innerHTML=e.captcha,this.executeScriptElements(n),n.classList.remove("captcha-place-holder","loading"),n.classList.add("captcha");const t=n.closest("form");if(null!==t){let n=t.querySelector('input[type="hidden"][name="x"]');null!==n&&n.setAttribute("value",e.x)}}}))}executeScriptElements(e){const t=e.querySelectorAll("script");Array.from(t).forEach((e=>{const t=document.createElement("script");Array.from(e.attributes).forEach((e=>{t.setAttribute(e.name,e.value)})),t.text=e.text,e.parentNode.replaceChild(t,e)}))}}})();var ajaxErrorHandlers=new Array,ajaxSuccessHandlers=new Array,ajaxEnabled=!1;if("undefined"!=typeof jQuery)var ajaxCurrentBase=location.href.replace($("base").eq(0).attr("href"),"").replace(/\?.*$/,"").replace(/#.*$/,"");var ajaxUsed=!1,ajaxError=!1;function ajaxSend(e){var t=e.method?e.method.toUpperCase():"GET",n=e.data||"",o=e.url||$("#"+e.formId).attr("action");if("POST"===t)n+="&"+$("#"+e.formId).serialize();else if(e.formId){var a=o.indexOf("?")>0?"&":"?";o+=a+$("#"+e.formId).serialize()}return $.ajax({type:t,url:encodeURIfix(o),data:n,beforeSend:function(){e.nonshowloading||$("#"+e.divId).append('<span style="position:absolute; left:'+($("#"+e.divId).width()/2-110)+"px;top:"+($("#"+e.divId).height()/2-9)+'px;" class="loading" id="loading"><img src="./images/spinner.gif" alt="loading"/></span>').css("position","relative")},success:function(t){e.nonshowloading||$("#loading").remove(),e.nonshowfadein?$("#"+e.divId).html(t):$("#"+e.divId).hide().html(t).fadeIn(500);for(var n=0;n<ajaxSuccessHandlers.length;n++)ajaxSuccessHandlers[n].func?ajaxSuccessHandlers[n].func(t):ajaxSuccessHandlers[n](t)},error:function(t){if(e.nonshowloading||$("#loading").remove(),e.nonshowfadein?$("#"+e.divId).html(t):$("#"+e.divId).hide().html(t).fadeIn(500),ajaxErrorHandlers.length>0)for(var n=0;n<ajaxErrorHandlers.length;n++)ajaxErrorHandlers[n].func?ajaxErrorHandlers[n].func(t):ajaxErrorHandlers[n](t);else alert("AJAX error: "+t),ajaxError=!0}}),!1}function ajaxPageLoad(e){""!==e&&e.replace(/^#/,"");var t=e.match(/^get(-.*?)?;(.*)$/);if(t){var n=t[2].indexOf(";")>0?t[2].replace(";","?"):ajaxCurrentBase+"?"+decodeURIComponent(t[2]);return ajaxUsed=!0,ajaxSend({method:"GET",url:n,divId:t[1]?t[1].substr(1):"ajaxBlock"})}return""!==e||!ajaxUsed||ajaxSend({url:location.href.replace(/#.*$/,""),divId:"ajaxBlock"})}function ajaxFormLoad(e,t){var n=e.match(/^(get|post)(-.*?)?;(.*)$/);if(n){var o=n[3].indexOf(";")>0?n[3].replace(";","?"):ajaxCurrentBase+"?"+n[3];return ajaxUsed=!0,ajaxSend({method:n[1].toUpperCase(),url:o,divId:n[2]?n[2].substr(1):"ajaxBlock",formId:t})}return!0}function ajaxMakeHash(e,t,n){var o,a,s="post"==n?"post":"get",i="?",r=!!t&&t.match(/(get|post)(-[^ ;]+)?(;\S*)?/);return r&&(s=r[1],r[2]&&(s+=r[2]),r[3]&&(e=r[3].substr(1),i=";")),s+=";",e.indexOf(i)>0?(o=e.substr(0,e.indexOf(i)),a=e.substr(e.indexOf(i)+1),n&&"post"!=n&&(a+="&"+n)):(o=e,a="",n&&"post"!=n&&(a+=i+n)),s+=o==ajaxCurrentBase?a:o+";"+a}function bindHandlers(){("#comments"==location.hash||location.hash.match(/#c\d+/))&&$(".comments").css("display",""),$(".comments_link").click((function(){"none"==$(".comments").css("display")?$(".comments").css("display",""):$(".comments").css("display","none")})),location.href.match(/#comments/)&&$(".comments").css("display",""),ajaxEnabled&&($("body").on("submit","form.ajax",(function(){return"POST"==$(this).attr("method").toUpperCase()?ajaxFormLoad(ajaxMakeHash($(this).attr("action").replace(/#.*$/,""),$(this).attr("class"),"post"),$(this).attr("id")):window.location.hash=ajaxMakeHash($(this).attr("action").replace(/#.*$/,""),$(this).attr("class"),$(this).serialize()),ajaxError})),$("body").on("click","a.ajax",(function(){return window.location.hash=ajaxMakeHash($(this).attr("href").replace(/#.*$/,""),$(this).attr("rel")),ajaxError})),$("body").on("click","a.confirmLink",(function(){return!$(this).attr("href").match(/message.+920/i)||($("#confirmBox")&&$("#confirmBox").remove(),$("body").prepend('<div id="confirmBox" class="jqmWindow"></div>'),$("#confirmBox").jqm({ajax:$(this).attr("href"),modal:!0,onLoad:function(){$("#confirmBox").css("margin-left","-"+$("#confirmBox").width()/2+"px"),$("#confirmBox").css("margin-top","-"+$("#confirmBox").height()/2+"px")}}),$("#confirmBox").jqmShow(),!1)})),$(window).on("hashchange",(function(){ajaxPageLoad(window.location.hash.replace(/^#/,""))})),$("body").on("click","a#confirmNo",(function(){return!$("#confirmBox").is(".jqmWindow")||($("#confirmBox").jqmHide(),$("#confirmBox").remove(),!1)})))}"undefined"!=typeof jQuery&&$(document).ready((function(){ajaxEnabled&&""!=window.location.hash&&ajaxPageLoad(window.location.hash.replace(/^#/,"")),bindHandlers()})),window.name="main";//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJhc2UuanMiLCJ3ZWJwYWNrOi8vY290b250aS9zcmMvc2VydmVyRXZlbnRzL1NlcnZlclNlbnRFdmVudHNDbGllbnQuanMiLCJ3ZWJwYWNrOi8vY290b250aS9zcmMvc2VydmVyRXZlbnRzL2RyaXZlci9TZXJ2ZXJTZW50RXZlbnRzLmpzIiwid2VicGFjazovL2NvdG9udGkvc3JjL3NlcnZlckV2ZW50cy9kcml2ZXIvU2VydmVyU2VudEV2ZW50c1NoYXJlZFdvcmtlci5qcyIsIndlYnBhY2s6Ly9jb3RvbnRpL3NyYy9zZXJ2ZXJFdmVudHMvU2VydmVyRXZlbnRzLmpzIiwid2VicGFjazovL2NvdG9udGkvc3JjL1RvYXN0LmpzIiwid2VicGFjazovL2NvdG9udGkvc3JjL01vZGFsLmpzIiwid2VicGFjazovL2NvdG9udGkvc3JjL0NvdG9udGlBcHBsaWNhdGlvbi5qcyJdLCJuYW1lcyI6WyJlbmNvZGVVUklmaXgiLCJzdHIiLCJlbmNvZGVVUkkiLCJkZWNvZGVVUkkiLCJyZXBsYWNlIiwiZ2V0QmFzZUhyZWYiLCJocmVmIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInBvcHVwIiwiY29kZSIsInciLCJoIiwid2luZG93Iiwib3BlbiIsInBmcyIsImlkIiwiYzEiLCJjMiIsInBhcnNlciIsInJlZGlyZWN0IiwidXJsIiwibG9jYXRpb24iLCJvcHRpb25zIiwic2VsZWN0ZWRJbmRleCIsInZhbHVlIiwidG9nZ2xlYmxvY2siLCJibCIsImdldEVsZW1lbnRCeUlkIiwic3R5bGUiLCJkaXNwbGF5IiwidG9nZ2xlQWxsIiwiYWN0aW9uIiwiYmxrcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpIiwibGVuZ3RoIiwiaW5zZXJ0VGV4dCIsImRvY09iaiIsImZpZWxkTmFtZSIsImZpZWxkIiwiZmluZEZpZWxkIiwiZm9ybXMiLCJqIiwiZWxlbWVudHMiLCJuYW1lIiwic2VsZWN0aW9uIiwiZm9jdXMiLCJjcmVhdGVSYW5nZSIsInRleHQiLCJzZWxlY3Rpb25TdGFydCIsInN0YXJ0UG9zIiwiZW5kUG9zIiwic2VsZWN0aW9uRW5kIiwic3Vic3RyaW5nIiwiU2VydmVyU2VudEV2ZW50c0NsaWVudCIsImV2ZW50c1VybCIsInQiLCJvbkV2ZW50IiwiY29uc3RydWN0b3IiLCJtb2RlIiwidGhpcyIsImluaXQiLCJjb25zb2xlIiwibG9nIiwiRXZlbnRTb3VyY2UiLCJvbm9wZW4iLCJldmVudCIsIm9ubWVzc2FnZSIsImV2ZW50RGF0YSIsIkpTT04iLCJwYXJzZSIsImRhdGEiLCJsYXN0RXZlbnRJZCIsIm9uZXJyb3IiLCJlIiwiZXJyb3IiLCJTZXJ2ZXJTZW50RXZlbnRzIiwibiIsIm9uRXZlbnRUcmlnZ2VyZWQiLCJTZXJ2ZXJTZW50RXZlbnRzU2hhcmVkV29ya2VyIiwicG9ydCIsIlNoYXJlZFdvcmtlciIsInBvc3RNZXNzYWdlIiwiY29uZmlnIiwiU2VydmVyRXZlbnRzIiwibyIsInMiLCJNYXAiLCJhZGRPYnNlcnZlciIsImNhbGxiYWNrIiwic2V0IiwiciIsImZvckVhY2giLCJvYnNlcnZlciIsIlRvYXN0Iiwic3RhdGljIiwidGl0bGUiLCJtZXNzYWdlIiwiaGludCIsInR5cGUiLCJkZWxheSIsImEiLCJib290c3RyYXAiLCJzaG93IiwiY29udGFpbmVyIiwidG9hc3RUaXRsZSIsInRvYXN0SGludCIsInRvYXN0SFRNTCIsInRvYXN0V3JhcHBlciIsImNyZWF0ZUVsZW1lbnQiLCJpbm5lckhUTUwiLCJ0b2FzdEVsZW1lbnQiLCJmaXJzdEVsZW1lbnRDaGlsZCIsImFwcGVuZENoaWxkIiwibGFzdEVsZW1lbnRDaGlsZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmUiLCJsIiwicmVzdWx0IiwiY2xhc3NOYW1lIiwiY29udGFpbmVyQ2xhc3MiLCJib2R5IiwiYXBwZW5kIiwiTW9kYWwiLCJjb250ZW50IiwiYnV0dG9ucyIsImNlbnRlcmVkIiwiZGlhbG9nQ2xhc3MiLCJkIiwibW9kYWxIVE1MIiwibW9kYWxXcmFwcGVyIiwiYyIsInF1ZXJ5U2VsZWN0b3IiLCJBcnJheSIsImlzQXJyYXkiLCJidXR0b24iLCJidXR0b25EYXRhIiwicHVzaCIsImxhYmVsIiwic2V0QXR0cmlidXRlIiwiYnRuVHlwZSIsImNsYXNzTGlzdCIsImFkZCIsImNsb3NlT25DbGljayIsIm9uQ2xpY2siLCJjb3QiLCJ2IiwiZ2V0U2VydmVyRXZlbnRzIiwiY29uZmlybSIsIm9rTGFiZWwiLCJjYW5jZWxMYWJlbCIsIm1vZGFsIiwiZ2V0TW9kYWwiLCJnZXRUb2FzdCIsInRvYXN0IiwibG9hZERhdGEiLCJ3aGF0IiwibG9hZGVkRGF0YSIsImRhdGFUb0xvYWQiLCJTdHJpbmciLCJpdGVtIiwicGFyYW1zIiwiVVJMU2VhcmNoUGFyYW1zIiwiaW5kZXgiLCJhcnJheSIsInJlc3BvbnNlIiwiZmV0Y2giLCJ0b1N0cmluZyIsIm9rIiwicmVzcG9uc2VEYXRhIiwianNvbiIsInN1Y2Nlc3MiLCJrZXkiLCJsb2FkQ2FwdGNoYSIsInRoZW4iLCJjYXB0Y2hhRWxlbWVudHMiLCJlbGVtZW50IiwiY2FwdGNoYSIsImV4ZWN1dGVTY3JpcHRFbGVtZW50cyIsImZvcm0iLCJjbG9zZXN0IiwiaW5wdXRYIiwieCIsImNvbnRhaW5lckVsZW1lbnQiLCJzY3JpcHRFbGVtZW50cyIsImZyb20iLCJzY3JpcHRFbGVtZW50IiwiY2xvbmVkRWxlbWVudCIsImF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGUiLCJwYXJlbnROb2RlIiwicmVwbGFjZUNoaWxkIiwiYWpheEVycm9ySGFuZGxlcnMiLCJhamF4U3VjY2Vzc0hhbmRsZXJzIiwiYWpheEVuYWJsZWQiLCJqUXVlcnkiLCJhamF4Q3VycmVudEJhc2UiLCIkIiwiZXEiLCJhdHRyIiwiYWpheFVzZWQiLCJhamF4RXJyb3IiLCJhamF4U2VuZCIsInNldHRpbmdzIiwibWV0aG9kIiwidG9VcHBlckNhc2UiLCJmb3JtSWQiLCJzZXJpYWxpemUiLCJzZXAiLCJpbmRleE9mIiwiYWpheCIsImJlZm9yZVNlbmQiLCJub25zaG93bG9hZGluZyIsImRpdklkIiwid2lkdGgiLCJoZWlnaHQiLCJjc3MiLCJtc2ciLCJub25zaG93ZmFkZWluIiwiaHRtbCIsImhpZGUiLCJmYWRlSW4iLCJmdW5jIiwiYWxlcnQiLCJhamF4UGFnZUxvYWQiLCJoYXNoIiwibSIsIm1hdGNoIiwiZGVjb2RlVVJJQ29tcG9uZW50Iiwic3Vic3RyIiwiYWpheEZvcm1Mb2FkIiwiYWpheE1ha2VIYXNoIiwicmVsIiwiZm9ybURhdGEiLCJocmVmQmFzZSIsImJpbmRIYW5kbGVycyIsImNsaWNrIiwib24iLCJwcmVwZW5kIiwianFtIiwib25Mb2FkIiwianFtU2hvdyIsImlzIiwianFtSGlkZSIsInJlYWR5Il0sIm1hcHBpbmdzIjoiOzs7OztBQUFBLFNBQUFBLGFBQUFDLEdBR0EsT0FBQUMsVUFBQUMsVUFBQUYsSUFBQUcsUUFBQSxZQUFBQSxRQUFBLFdBQ0EsQ0FFQSxTQUFBQyxjQUNBLElBQUFDLEVBQUFDLFNBQUFDLHFCQUFBLFdBQUFGLEtBQ0EsYUFBQUEsRUFDQSxJQUVBQSxDQUVBLENBRUEsU0FBQUcsTUFBQUMsRUFBQUMsRUFBQUMsR0FDQUMsT0FBQUMsS0FBQVQsY0FBQSxlQUFBSyxFQUFBLG9GQUFBQyxFQUFBLFdBQUFDLEVBQUEsa0JBQ0EsQ0FLQSxTQUFBRyxJQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxHQUNBTixPQUFBQyxLQUNBVCxjQUFBLDBCQUFBVyxFQUFBLE9BQUFDLEVBQUEsT0FBQUMsRUFBQSxXQUFBQyxFQUNBLE1BQ0Esd0hBRUEsQ0FFQSxTQUFBQyxTQUFBQyxHQUNBQyxTQUFBaEIsS0FBQWUsRUFBQUUsUUFBQUYsRUFBQUcsZUFBQUMsS0FDQSxDQUVBLFNBQUFDLFlBQUFWLEdBQ0EsSUFBQVcsRUFBQXBCLFNBQUFxQixlQUFBWixHQU9BLE1BTkEsUUFBQVcsRUFBQUUsTUFBQUMsUUFDQUgsRUFBQUUsTUFBQUMsUUFBQSxHQUdBSCxFQUFBRSxNQUFBQyxRQUFBLFFBRUEsQ0FDQSxDQUVBLFNBQUFDLFVBQUFDLEdBQ0EsSUFBQUMsRUFBQTFCLFNBQUEyQixpQkFBQSxnQkFDQSxJ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QUVBbEQsYUFDQSxJQUFBdEwsT0FBQVMsU0FBQTRNLE1BQ0FELGFBQUFwTixPQUFBUyxTQUFBNE0sS0FBQTlOLFFBQUEsVUFJQXdPLGNBQ0EsSUFHQS9OLE9BQUFnQyxLQUFBIiwiZmlsZSI6ImJhc2UubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gZW5jb2RlVVJJZml4KHN0cikge1xyXG5cdC8vIHRvIHByZXZlbnQgdHdpY2UgZW5jb2RpbmdcclxuXHQvLyBhbmQgZml4ICdbJywnXScgc2lnbnMgdG8gZm9sbG93IFJGQzM5ODYgKHNlY3Rpb24tMy4yLjIpXHJcblx0cmV0dXJuIGVuY29kZVVSSShkZWNvZGVVUkkoc3RyKSkucmVwbGFjZSgvJTVCL2csICdbJykucmVwbGFjZSgvJTVEL2csICddJyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldEJhc2VIcmVmKCkge1xyXG5cdHZhciBocmVmID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2Jhc2UnKVswXS5ocmVmO1xyXG5cdGlmIChocmVmID09IG51bGwpIHtcclxuXHRcdHJldHVybiAnLyc7XHJcblx0fSBlbHNlIHtcclxuXHRcdHJldHVybiBocmVmO1xyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gcG9wdXAoY29kZSwgdywgaCl7XHJcbiAgICB3aW5kb3cub3BlbihnZXRCYXNlSHJlZigpICsgJ2luZGV4LnBocD9vPScgKyBjb2RlLCAnJywgJ3Rvb2xiYXI9MCxsb2NhdGlvbj0wLGRpcmVjdG9yaWVzPTAsbWVudUJhcj0wLHJlc2l6YWJsZT0wLHNjcm9sbGJhcnM9eWVzLHdpZHRoPScgKyB3ICsgJyxoZWlnaHQ9JyArIGggKyAnLGxlZnQ9MzIsdG9wPTE2Jyk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAdG9kbyBtb3ZlIHRvIHBmcyBtb2R1bGVcclxuICovXHJcbmZ1bmN0aW9uIHBmcyhpZCwgYzEsIGMyLCBwYXJzZXIpe1xyXG4gICAgd2luZG93Lm9wZW4oXHJcblx0XHRnZXRCYXNlSHJlZigpICsgJ2luZGV4LnBocD9lPXBmcyZ1c2VyaWQ9JyArIGlkICsgJyZjMT0nICsgYzEgKyAnJmMyPScgKyBjMiArICcmcGFyc2VyPScgKyBwYXJzZXIsXHJcblx0XHQnUEZTJyxcclxuXHRcdCdzdGF0dXM9MSwgdG9vbGJhcj0wLGxvY2F0aW9uPTAsZGlyZWN0b3JpZXM9MCxtZW51QmFyPTAscmVzaXphYmxlPTEsc2Nyb2xsYmFycz15ZXMsd2lkdGg9NzU0LGhlaWdodD01MTIsbGVmdD0zMix0b3A9MTYnXHJcblx0KTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVkaXJlY3QodXJsKXtcclxuICAgIGxvY2F0aW9uLmhyZWYgPSB1cmwub3B0aW9uc1t1cmwuc2VsZWN0ZWRJbmRleF0udmFsdWU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHRvZ2dsZWJsb2NrKGlkKXtcclxuICAgIHZhciBibCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcclxuICAgIGlmIChibC5zdHlsZS5kaXNwbGF5ID09ICdub25lJykge1xyXG4gICAgICAgIGJsLnN0eWxlLmRpc3BsYXkgPSAnJztcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGJsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICB9XHJcblx0cmV0dXJuIGZhbHNlO1xyXG59XHJcblxyXG5mdW5jdGlvbiB0b2dnbGVBbGwoYWN0aW9uKSB7XHJcblx0dmFyIGJsa3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbaWRePVwiYmxrX1wiXScpO1xyXG5cdGZvciAoaSA9IDA7IGkgPCBibGtzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRpZiAoYWN0aW9uID09ICdoaWRlJykge1xyXG5cdFx0XHRibGtzW2ldLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcblx0XHR9IGVsc2UgaWYgKGFjdGlvbiA9PSAnc2hvdycpIHtcclxuXHRcdFx0Ymxrc1tpXS5zdHlsZS5kaXNwbGF5ID0gJ3RhYmxlLXJvdy1ncm91cCc7XHJcblx0XHR9XHJcblx0fVxyXG5cdHJldHVybiBmYWxzZTtcclxufVxyXG5cclxuLy8gSW5zZXJ0cyB0ZXh0IGludG8gdGV4dGFyZWEgYXQgY3Vyc29yIHBvc2l0aW9uXHJcbmZ1bmN0aW9uIGluc2VydFRleHQoZG9jT2JqLCBmaWVsZE5hbWUsIHZhbHVlKSB7XHJcblx0dmFyIGZpZWxkID0gbnVsbDtcclxuXHRpZiAoIWRvY09iaikge1xyXG5cdFx0ZG9jT2JqID0gZG9jdW1lbnQ7XHJcblx0fVxyXG5cdC8vIEZpbmQgdGhlIGZpZWxkIGluIHRoZSBkb2NPYmpcclxuXHRmaW5kRmllbGQ6XHJcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBkb2NPYmouZm9ybXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdGZvciAodmFyIGogPSAwOyBqIDwgZG9jT2JqLmZvcm1zW2ldLmVsZW1lbnRzLmxlbmd0aDsgaisrKSB7XHJcblx0XHRcdGlmIChkb2NPYmouZm9ybXNbaV0uZWxlbWVudHNbal0ubmFtZSA9PSBmaWVsZE5hbWUpIHtcclxuXHRcdFx0XHRmaWVsZCA9IGRvY09iai5mb3Jtc1tpXS5lbGVtZW50c1tqXTtcclxuXHRcdFx0XHRicmVhayBmaW5kRmllbGQ7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblx0aWYgKCFmaWVsZCkge1xyXG5cdFx0cmV0dXJuIGZhbHNlO1xyXG5cdH1cclxuXHJcblx0Ly8gSW5zZXJ0IHRoZSB0ZXh0XHJcblx0aWYgKGRvY09iai5zZWxlY3Rpb24pIHtcclxuXHRcdC8vIE1TSUUgYW5kIE9wZXJhXHJcblx0XHRmaWVsZC5mb2N1cygpO1xyXG5cdFx0dmFyIHNlbCA9IGRvY09iai5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKTtcclxuXHRcdHNlbC50ZXh0ID0gdmFsdWU7XHJcblx0fSBlbHNlIGlmIChmaWVsZC5zZWxlY3Rpb25TdGFydCB8fCBmaWVsZC5zZWxlY3Rpb25TdGFydCA9PSAwKSB7XHJcblx0XHQvLyBNb3ppbGxhXHJcblx0XHR2YXIgc3RhcnRQb3MgPSBmaWVsZC5zZWxlY3Rpb25TdGFydDtcclxuXHRcdHZhciBlbmRQb3MgPSBmaWVsZC5zZWxlY3Rpb25FbmQ7XHJcblx0XHRmaWVsZC52YWx1ZSA9IGZpZWxkLnZhbHVlLnN1YnN0cmluZygwLCBzdGFydFBvcykgKyB2YWx1ZSArIGZpZWxkLnZhbHVlLnN1YnN0cmluZyhlbmRQb3MsIGZpZWxkLnZhbHVlLmxlbmd0aCk7XHJcblx0fSBlbHNlIHtcclxuXHRcdGZpZWxkLnZhbHVlICs9IHZhbHVlO1xyXG5cdH1cclxuXHRyZXR1cm4gdHJ1ZTtcclxufVxyXG5cclxuLy8gQXJyYXkgb2YgYWpheCBlcnJvciBoYW5kbGVyc1xyXG4vLyBFeGFtcGxlIG9mIHVzZTpcclxuLy8gYWpheEVycm9ySGFuZGxlcnMucHVzaCh7ZnVuYzogbXlFcnJvckhhbmRsZXJ9KTtcclxuLy8gYWpheFN1Y2Nlc3NIYW5kbGVycy5wdXNoKHtmdW5jOiBteVN1Y2Nlc3NIYW5kbGVyfSk7XHJcbnZhciBhamF4RXJyb3JIYW5kbGVycyA9IG5ldyBBcnJheSgpO1xyXG52YXIgYWpheFN1Y2Nlc3NIYW5kbGVycyA9IG5ldyBBcnJheSgpO1xyXG4vLyBBSkFYIGVuYWJsZW1lbnQgZGVmYXVsdHMgdG8gZmFsc2VcclxudmFyIGFqYXhFbmFibGVkID0gZmFsc2U7XHJcbi8vIFJlcXVpcmVkIHRvIGNhbGN1bGF0ZSBwYXRoc1xyXG5pZiAodHlwZW9mIGpRdWVyeSAhPSAndW5kZWZpbmVkJykge1xyXG5cdHZhciBhamF4Q3VycmVudEJhc2UgPSBsb2NhdGlvbi5ocmVmLnJlcGxhY2UoJCgnYmFzZScpLmVxKDApLmF0dHIoJ2hyZWYnKSwgJycpLnJlcGxhY2UoL1xcPy4qJC8sICcnKS5yZXBsYWNlKC8jLiokLywgJycpO1xyXG59XHJcbi8vIFRoaXMgZmxhZyBpbmRpY2F0ZXMgdGhhdCBBSkFYK2hpc3RvcnkgaGFzIGJlZW4gdXNlZCBvbiB0aGlzIHBhZ2VcclxuLy8gSXQgbWVhbnMgdGhhdCBcIiNcIiBvciBob21lIGxpbmsgc2hvdWxkIGJlIGxvYWRlZCB2aWEgYWpheCB0b29cclxudmFyIGFqYXhVc2VkID0gZmFsc2U7XHJcbi8vIEdsb2JhbCBmbGFnIHRvIGxldCBldmVyeWJvZHkga25vdyB0aGF0IEFKQVggaGFzIGZhaWxlZFxyXG52YXIgYWpheEVycm9yID0gZmFsc2U7XHJcblxyXG4vKipcclxuICogQUpBWCBoZWxwZXIgZnVuY3Rpb25cclxuICogQHBhcmFtIHtoYXNofSBzZXR0aW5ncyBBIGhhc2h0YWJsZSB3aXRoIHNldHRpbmdzXHJcbiAqIEByZXR1cm4gRkFMU0Ugb24gc3VjY2Vzc2Z1bCBBSkFYIGNhbGwsIFRSVUUgb24gZXJyb3IgdG8gY29udGludWUgaW5cclxuICogc3luY2hyb25vdXMgbW9kZVxyXG4gKiBAdHlwZSBib29sXHJcbiAqL1xyXG5mdW5jdGlvbiBhamF4U2VuZChzZXR0aW5ncykge1xyXG5cdHZhciBtZXRob2QgPSBzZXR0aW5ncy5tZXRob2QgPyBzZXR0aW5ncy5tZXRob2QudG9VcHBlckNhc2UoKSA6ICdHRVQnO1xyXG5cdHZhciBkYXRhID0gc2V0dGluZ3MuZGF0YSB8fCAnJztcclxuXHR2YXIgdXJsID0gc2V0dGluZ3MudXJsIHx8ICQoJyMnICsgc2V0dGluZ3MuZm9ybUlkKS5hdHRyKCdhY3Rpb24nKTtcclxuXHRpZiAobWV0aG9kID09PSAnUE9TVCcpIHtcclxuXHRcdGRhdGEgKz0gJyYnICsgJCgnIycgKyBzZXR0aW5ncy5mb3JtSWQpLnNlcmlhbGl6ZSgpO1xyXG5cdH0gZWxzZSBpZiAoc2V0dGluZ3MuZm9ybUlkKSB7XHJcblx0XHR2YXIgc2VwID0gdXJsLmluZGV4T2YoJz8nKSA+IDAgPyAnJicgOiAnPyc7XHJcblx0XHR1cmwgKz0gc2VwICsgJCgnIycgKyBzZXR0aW5ncy5mb3JtSWQpLnNlcmlhbGl6ZSgpO1xyXG5cdH1cclxuXHQkLmFqYXgoe1xyXG5cdFx0dHlwZTogbWV0aG9kLFxyXG5cdFx0dXJsOiBlbmNvZGVVUklmaXgodXJsKSxcclxuXHRcdGRhdGE6IGRhdGEsXHJcblx0XHRiZWZvcmVTZW5kOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0aWYgKCFzZXR0aW5ncy5ub25zaG93bG9hZGluZykge1xyXG5cdFx0XHRcdCQoJyMnICsgc2V0dGluZ3MuZGl2SWQpXHJcblx0XHRcdFx0XHQuYXBwZW5kKCc8c3BhbiBzdHlsZT1cInBvc2l0aW9uOmFic29sdXRlOyBsZWZ0OicgKyAoJCgnIycgKyBzZXR0aW5ncy5kaXZJZCkud2lkdGgoKS8yIC0gMTEwKSArICdweDt0b3A6JyArICgkKCcjJyArIHNldHRpbmdzLmRpdklkKS5oZWlnaHQoKS8yIC0gOSkgKyAncHg7XCIgY2xhc3M9XCJsb2FkaW5nXCIgaWQ9XCJsb2FkaW5nXCI+PGltZyBzcmM9XCIuL2ltYWdlcy9zcGlubmVyLmdpZlwiIGFsdD1cImxvYWRpbmdcIi8+PC9zcGFuPicpLmNzcygncG9zaXRpb24nLCAncmVsYXRpdmUnKTtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uKG1zZykge1xyXG5cdFx0XHRpZiAoIXNldHRpbmdzLm5vbnNob3dsb2FkaW5nKSB7XHJcblx0XHRcdFx0JCgnI2xvYWRpbmcnKS5yZW1vdmUoKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoIXNldHRpbmdzLm5vbnNob3dmYWRlaW4pIHtcclxuXHRcdFx0XHQkKCcjJyArIHNldHRpbmdzLmRpdklkKS5oaWRlKCkuaHRtbChtc2cpLmZhZGVJbig1MDApO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdCQoJyMnICsgc2V0dGluZ3MuZGl2SWQpLmh0bWwobXNnKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGFqYXhTdWNjZXNzSGFuZGxlcnMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRpZihhamF4U3VjY2Vzc0hhbmRsZXJzW2ldLmZ1bmMpXHJcblx0XHRcdFx0XHRhamF4U3VjY2Vzc0hhbmRsZXJzW2ldLmZ1bmMobXNnKTtcclxuXHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRhamF4U3VjY2Vzc0hhbmRsZXJzW2ldKG1zZyk7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHRlcnJvcjogZnVuY3Rpb24obXNnKSB7XHJcblx0XHRcdGlmICghc2V0dGluZ3Mubm9uc2hvd2xvYWRpbmcpIHtcclxuXHRcdFx0XHQkKCcjbG9hZGluZycpLnJlbW92ZSgpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmICghc2V0dGluZ3Mubm9uc2hvd2ZhZGVpbikge1xyXG5cdFx0XHRcdCQoJyMnICsgc2V0dGluZ3MuZGl2SWQpLmhpZGUoKS5odG1sKG1zZykuZmFkZUluKDUwMCk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0JCgnIycgKyBzZXR0aW5ncy5kaXZJZCkuaHRtbChtc2cpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChhamF4RXJyb3JIYW5kbGVycy5sZW5ndGggPiAwKSB7XHJcblx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBhamF4RXJyb3JIYW5kbGVycy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdFx0aWYgKGFqYXhFcnJvckhhbmRsZXJzW2ldLmZ1bmMpIHtcclxuXHRcdFx0XHRcdFx0YWpheEVycm9ySGFuZGxlcnNbaV0uZnVuYyhtc2cpO1xyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0YWpheEVycm9ySGFuZGxlcnNbaV0obXNnKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0YWxlcnQoJ0FKQVggZXJyb3I6ICcgKyBtc2cpO1xyXG5cdFx0XHRcdGFqYXhFcnJvciA9IHRydWU7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9KTtcclxuXHRyZXR1cm4gZmFsc2U7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBSkFYIHN1YnBhZ2UgbG9hZGVyIHdpdGggaGlzdG9yeSBzdXBwb3J0XHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBoYXNoIEEgaGFzaC1hZGRyZXNzIHN0cmluZ1xyXG4gKiBAcmV0dXJuIEZBTFNFIG9uIHN1Y2Nlc3NmdWwgQUpBWCBjYWxsLCBUUlVFIG9uIGVycm9yIHRvIGNvbnRpbnVlIGluXHJcbiAqIHN5bmNocm9ub3VzIG1vZGVcclxuICogQHR5cGUgYm9vbFxyXG4gKi9cclxuZnVuY3Rpb24gYWpheFBhZ2VMb2FkKGhhc2gpIHtcclxuICAgIGlmIChoYXNoICE9PSAnJykge1xyXG5cdFx0aGFzaC5yZXBsYWNlKC9eIy8sICcnKTtcclxuXHR9XHJcblx0dmFyIG0gPSBoYXNoLm1hdGNoKC9eZ2V0KC0uKj8pPzsoLiopJC8pO1xyXG5cdGlmIChtKSB7XHJcblx0XHQvLyBhamF4IGJvb2ttYXJrXHJcbiAgICAgICAgdmFyIHVybCA9IG1bMl0uaW5kZXhPZignOycpID4gMCA/IG1bMl0ucmVwbGFjZSgnOycsICc/JykgOiBhamF4Q3VycmVudEJhc2UgKyAnPycgKyBkZWNvZGVVUklDb21wb25lbnQobVsyXSk7XHJcblx0XHRhamF4VXNlZCA9IHRydWU7XHJcblx0XHRyZXR1cm4gYWpheFNlbmQoe1xyXG5cdFx0XHRtZXRob2Q6ICdHRVQnLFxyXG5cdFx0XHR1cmw6IHVybCxcclxuXHRcdFx0ZGl2SWQ6IG1bMV0gPyBtWzFdLnN1YnN0cigxKSA6ICdhamF4QmxvY2snXHJcblx0XHR9KTtcclxuXHR9IGVsc2UgaWYgKGhhc2ggPT09ICcnICYmIGFqYXhVc2VkKSB7XHJcblx0XHQvLyBhamF4IGhvbWVcclxuXHRcdHJldHVybiBhamF4U2VuZCAoe1xyXG5cdFx0XHR1cmw6IGxvY2F0aW9uLmhyZWYucmVwbGFjZSgvIy4qJC8sICcnKSxcclxuXHRcdFx0ZGl2SWQ6ICdhamF4QmxvY2snXHJcblx0XHR9KTtcclxuXHR9XHJcblx0cmV0dXJuIHRydWU7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBSkFYIHN1YmZvcm0gbG9hZGVyIHdpdGhvdXQgaGlzdG9yeSB0cmFja2luZ1xyXG4gKiBAcGFyYW0ge3N0cmluZ30gaGFzaCBBIGhhc2gtYWRkcmVzcyBzdHJpbmdcclxuICogQHBhcmFtIHtzdHJpbmd9IGZvcm1JZCBUYXJnZXQgZm9ybSBpZCBhdHRyaWJ1dGVcclxuICogQHJldHVybiBGQUxTRSBvbiBzdWNjZXNzZnVsIEFKQVggY2FsbCwgVFJVRSBvbiBlcnJvciB0byBjb250aW51ZSBpblxyXG4gKiBzeW5jaHJvbm91cyBtb2RlXHJcbiAqIEB0eXBlIGJvb2xcclxuICovXHJcbmZ1bmN0aW9uIGFqYXhGb3JtTG9hZChoYXNoLCBmb3JtSWQpIHtcclxuXHR2YXIgbSA9IGhhc2gubWF0Y2goL14oZ2V0fHBvc3QpKC0uKj8pPzsoLiopJC8pO1xyXG5cdGlmIChtKSB7XHJcblx0XHQvLyBhamF4IGJvb2ttYXJrXHJcblx0XHR2YXIgdXJsID0gbVszXS5pbmRleE9mKCc7JykgPiAwID8gbVszXS5yZXBsYWNlKCc7JywgJz8nKSA6IGFqYXhDdXJyZW50QmFzZSArICc/JyArIG1bM107XHJcblx0XHRhamF4VXNlZCA9IHRydWU7XHJcblx0XHRyZXR1cm4gYWpheFNlbmQoe1xyXG5cdFx0XHRtZXRob2Q6IG1bMV0udG9VcHBlckNhc2UoKSxcclxuXHRcdFx0dXJsOiB1cmwsXHJcblx0XHRcdGRpdklkOiBtWzJdID8gbVsyXS5zdWJzdHIoMSkgOiAnYWpheEJsb2NrJyxcclxuXHRcdFx0Zm9ybUlkOiBmb3JtSWRcclxuXHRcdH0pO1xyXG5cdH1cclxuXHRyZXR1cm4gdHJ1ZTtcclxufVxyXG5cclxuLyoqXHJcbiAqIENvbnN0cnVjdHMgYWpheGFibGUgaGFzaCBzdHJpbmdcclxuICogQHBhcmFtIHtzdHJpbmd9IGhyZWYgTGluayBocmVmIG9yIGZvcm0gYWN0aW9uIGF0dHJpYnV0ZVxyXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVsIEFuIGF0dHJpYnV0ZSB2YWx1ZSBwb3NzaWJseSBjb250YWluaW5nIGEgaGFzaCBhZGRyZXNzXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBmb3JtRGF0YSBJcyBwYXNzZWQgZm9yIGZvcm1zIG9ubHksIGlzICdwb3N0JyBmb3IgUE9TVCBmb3Jtc1xyXG4gKiBvciBzZXJpYWxpemVkIGZvcm0gZGF0YSBmb3IgR0VUIGZvcm1zXHJcbiAqIEByZXR1cm4gQSB2YWxpZCBoYXNoLWFkZHJlc3Mgc3RyaW5nXHJcbiAqIEB0eXBlIHN0cmluZ1xyXG4gKi9cclxuZnVuY3Rpb24gYWpheE1ha2VIYXNoKGhyZWYsIHJlbCwgZm9ybURhdGEpIHtcclxuXHR2YXIgaGFzaCA9IChmb3JtRGF0YSA9PSAncG9zdCcpID8gJ3Bvc3QnIDogJ2dldCc7XHJcblx0dmFyIGhyZWZCYXNlLCBwYXJhbXM7XHJcblx0dmFyIHNlcCA9ICc/JztcclxuXHR2YXIgbSA9IHJlbCA/IHJlbC5tYXRjaCgvKGdldHxwb3N0KSgtW14gO10rKT8oO1xcUyopPy8pIDogZmFsc2U7XHJcblx0aWYgKG0pIHtcclxuXHRcdGhhc2ggPSBtWzFdO1xyXG5cdFx0aWYgKG1bMl0pIHtcclxuXHRcdFx0aGFzaCArPSBtWzJdO1xyXG5cdFx0fVxyXG5cdFx0aWYgKG1bM10pIHtcclxuXHRcdFx0aHJlZiA9IG1bM10uc3Vic3RyKDEpO1xyXG5cdFx0XHRzZXAgID0gJzsnO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRoYXNoICs9ICc7J1xyXG5cdGlmIChocmVmLmluZGV4T2Yoc2VwKSA+IDApIHtcclxuXHRcdGhyZWZCYXNlID0gaHJlZi5zdWJzdHIoMCwgaHJlZi5pbmRleE9mKHNlcCkpO1xyXG5cdFx0cGFyYW1zID0gaHJlZi5zdWJzdHIoaHJlZi5pbmRleE9mKHNlcCkgKyAxKTtcclxuXHRcdGlmIChmb3JtRGF0YSAmJiBmb3JtRGF0YSAhPSAncG9zdCcpIHtcclxuXHRcdFx0cGFyYW1zICs9ICcmJyArIGZvcm1EYXRhO1xyXG5cdFx0fVxyXG5cdH0gZWxzZSB7XHJcblx0XHRocmVmQmFzZSA9IGhyZWY7XHJcblx0XHRwYXJhbXMgPSAnJztcclxuXHRcdGlmIChmb3JtRGF0YSAmJiBmb3JtRGF0YSAhPSAncG9zdCcpIHtcclxuXHRcdFx0cGFyYW1zICs9IHNlcCArIGZvcm1EYXRhO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRoYXNoICs9IGhyZWZCYXNlID09IGFqYXhDdXJyZW50QmFzZSA/IHBhcmFtcyA6IGhyZWZCYXNlICsgJzsnICsgcGFyYW1zO1xyXG5cdHJldHVybiBoYXNoO1xyXG59XHJcblxyXG4vKipcclxuICogU3RhbmRhcmQgZXZlbnQgYmluZGluZ3NcclxuICovXHJcbmZ1bmN0aW9uIGJpbmRIYW5kbGVycygpIHtcclxuXHRpZiAobG9jYXRpb24uaGFzaCA9PSAnI2NvbW1lbnRzJyB8fCBsb2NhdGlvbi5oYXNoLm1hdGNoKC8jY1xcZCsvKSkge1xyXG5cdFx0JCgnLmNvbW1lbnRzJykuY3NzKCdkaXNwbGF5JywgJycpO1xyXG5cdH1cclxuXHQkKCcuY29tbWVudHNfbGluaycpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG5cdFx0aWYoJCgnLmNvbW1lbnRzJykuY3NzKCdkaXNwbGF5JykgPT0gJ25vbmUnKSB7XHJcblx0XHRcdCQoJy5jb21tZW50cycpLmNzcygnZGlzcGxheScsICcnKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdCQoJy5jb21tZW50cycpLmNzcygnZGlzcGxheScsICdub25lJyk7XHJcblx0XHR9XHJcblx0fSk7XHJcblxyXG5cdGlmKGxvY2F0aW9uLmhyZWYubWF0Y2goLyNjb21tZW50cy8pKSB7XHJcblx0XHQkKCcuY29tbWVudHMnKS5jc3MoJ2Rpc3BsYXknLCAnJyk7XHJcblx0fVxyXG5cclxuXHRpZiAoYWpheEVuYWJsZWQpIHtcclxuXHRcdC8vIEFKQVggYXV0by1oYW5kbGluZ1xyXG5cdFx0JCgnYm9keScpLm9uKCdzdWJtaXQnLCAnZm9ybS5hamF4JywgZnVuY3Rpb24oKSB7XHJcblx0XHRcdGlmICgkKHRoaXMpLmF0dHIoJ21ldGhvZCcpLnRvVXBwZXJDYXNlKCkgPT0gJ1BPU1QnKSB7XHJcblx0XHRcdFx0YWpheEZvcm1Mb2FkKGFqYXhNYWtlSGFzaCgkKHRoaXMpLmF0dHIoJ2FjdGlvbicpLnJlcGxhY2UoLyMuKiQvLCAnJyksICQodGhpcykuYXR0cignY2xhc3MnKSwgJ3Bvc3QnKSwgJCh0aGlzKS5hdHRyKCdpZCcpKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR3aW5kb3cubG9jYXRpb24uaGFzaCA9IGFqYXhNYWtlSGFzaCgkKHRoaXMpLmF0dHIoJ2FjdGlvbicpLnJlcGxhY2UoLyMuKiQvLCAnJyksICQodGhpcykuYXR0cignY2xhc3MnKSwgJCh0aGlzKS5zZXJpYWxpemUoKSk7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIGFqYXhFcnJvcjtcclxuXHRcdH0pO1xyXG5cdFx0JCgnYm9keScpLm9uKCdjbGljaycsICdhLmFqYXgnLCBmdW5jdGlvbigpIHtcclxuXHRcdFx0d2luZG93LmxvY2F0aW9uLmhhc2ggPSBhamF4TWFrZUhhc2goJCh0aGlzKS5hdHRyKCdocmVmJykucmVwbGFjZSgvIy4qJC8sICcnKSwgJCh0aGlzKS5hdHRyKCdyZWwnKSk7XHJcblx0XHRcdHJldHVybiBhamF4RXJyb3I7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBBSkFYIGFjdGlvbiBjb25maXJtYXRpb25zXHJcblx0XHQkKCdib2R5Jykub24oJ2NsaWNrJywgJ2EuY29uZmlybUxpbmsnLCBmdW5jdGlvbigpIHtcclxuXHRcdFx0aWYgKCQodGhpcykuYXR0cignaHJlZicpLm1hdGNoKC9tZXNzYWdlLis5MjAvaSkpIHtcclxuXHRcdFx0XHRpZiAoJCgnI2NvbmZpcm1Cb3gnKSkge1xyXG5cdFx0XHRcdFx0JCgnI2NvbmZpcm1Cb3gnKS5yZW1vdmUoKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0JCgnYm9keScpLnByZXBlbmQoJzxkaXYgaWQ9XCJjb25maXJtQm94XCIgY2xhc3M9XCJqcW1XaW5kb3dcIj48L2Rpdj4nKTtcclxuXHRcdFx0XHQkKCcjY29uZmlybUJveCcpLmpxbSh7YWpheDokKHRoaXMpLmF0dHIoJ2hyZWYnKSxtb2RhbDp0cnVlLG9uTG9hZDpmdW5jdGlvbigpe1xyXG5cdFx0XHRcdFx0JCgnI2NvbmZpcm1Cb3gnKS5jc3MoJ21hcmdpbi1sZWZ0JywgJy0nKygkKCcjY29uZmlybUJveCcpLndpZHRoKCkvMikrJ3B4Jyk7XHJcblx0XHRcdFx0XHQkKCcjY29uZmlybUJveCcpLmNzcygnbWFyZ2luLXRvcCcsICctJysoJCgnI2NvbmZpcm1Cb3gnKS5oZWlnaHQoKS8yKSsncHgnKTtcclxuXHRcdFx0XHR9fSk7XHJcblx0XHRcdFx0JCgnI2NvbmZpcm1Cb3gnKS5qcW1TaG93KCk7XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBMaXN0ZW4gdG8gaGFzaCBjaGFuZ2UgZXZlbnRzXHJcblx0XHQkKHdpbmRvdykub24oJ2hhc2hjaGFuZ2UnLCBmdW5jdGlvbigpIHtcclxuXHRcdFx0YWpheFBhZ2VMb2FkKHdpbmRvdy5sb2NhdGlvbi5oYXNoLnJlcGxhY2UoL14jLywgJycpKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdCQoJ2JvZHknKS5vbignY2xpY2snLCAnYSNjb25maXJtTm8nLCBmdW5jdGlvbigpIHtcclxuXHRcdFx0aWYgKCQoXCIjY29uZmlybUJveFwiKS5pcyhcIi5qcW1XaW5kb3dcIikpXHJcblx0XHRcdHtcclxuXHRcdFx0XHQkKCcjY29uZmlybUJveCcpLmpxbUhpZGUoKTtcclxuXHRcdFx0XHQkKCcjY29uZmlybUJveCcpLnJlbW92ZSgpO1xyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdHtcclxuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fVxyXG59XHJcblxyXG5pZiAodHlwZW9mIGpRdWVyeSAhPSAndW5kZWZpbmVkJykge1xyXG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy8gSWYgcGFnZSB3YXMgbG9hZGVkIHdpdGggaGFzaFxyXG4gICAgICAgIGlmIChhamF4RW5hYmxlZCkge1xyXG4gICAgICAgICAgICBpZih3aW5kb3cubG9jYXRpb24uaGFzaCAhPSAnJykge1xyXG4gICAgICAgICAgICAgICAgYWpheFBhZ2VMb2FkKHdpbmRvdy5sb2NhdGlvbi5oYXNoLnJlcGxhY2UoL14jLywgJycpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYmluZEhhbmRsZXJzKCk7XHJcbiAgICB9KTtcclxufVxyXG5cclxud2luZG93Lm5hbWUgPSAnbWFpbic7IiwiLyoqXHJcbiAqIFNlcnZlciBTZW50IEV2ZW50cyBjbGllbnRcclxuICogQGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1NlcnZlci1zZW50X2V2ZW50cy9Vc2luZ19zZXJ2ZXItc2VudF9ldmVudHNcclxuICovXHJcbmV4cG9ydCBjbGFzcyBTZXJ2ZXJTZW50RXZlbnRzQ2xpZW50IHtcclxuICAgIC8qKlxyXG4gICAgICogQHR5cGUge3N0cmluZ3xudWxsfVxyXG4gICAgICovXHJcbiAgICBldmVudHNVcmwgPSBudWxsO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHR5cGUge0V2ZW50U291cmNlfG51bGx9XHJcbiAgICAgKi9cclxuICAgICNldmVudFNvdXJjZSA9IG51bGw7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAdHlwZSB7ZnVuY3Rpb258bnVsbH1cclxuICAgICAqL1xyXG4gICAgb25FdmVudCA9IG51bGw7XHJcblxyXG4gICAgY29uc3RydWN0b3IoZXZlbnRzVXJsLCBtb2RlID0gbnVsbCkge1xyXG4gICAgICAgIHRoaXMuZXZlbnRzVXJsID0gZXZlbnRzVXJsO1xyXG4gICAgICAgIGlmIChtb2RlICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMubW9kZSA9IG1vZGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuaW5pdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuI2V2ZW50U291cmNlICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm1vZGUgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnaW5pdCBTZXJ2ZXJTZW50RXZlbnRzQ2xpZW50Jyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLiNldmVudFNvdXJjZSA9IG5ldyBFdmVudFNvdXJjZSh0aGlzLmV2ZW50c1VybCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm1vZGUgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICB0aGlzLiNldmVudFNvdXJjZS5vbm9wZW4gPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTZXJ2ZXJTZW50RXZlbnRzQ2xpZW50IGNvbm5lY3Rpb24gaXMgb3BlbicpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy4jZXZlbnRTb3VyY2Uub25tZXNzYWdlID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50RGF0YSA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSk7XHJcbiAgICAgICAgICAgIGlmIChldmVudERhdGEuZGF0YSAhPT0gdW5kZWZpbmVkICYmICh0eXBlb2YgZXZlbnREYXRhLmRhdGEgPT09ICdzdHJpbmcnKSAmJiBldmVudERhdGEuZGF0YSAhPT0gJycpIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50RGF0YS5kYXRhID0gSlNPTi5wYXJzZShldmVudERhdGEuZGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZXZlbnREYXRhLmlkID0gZXZlbnQubGFzdEV2ZW50SWQ7XHJcbiAgICAgICAgICAgIHRoaXMuI29uRXZlbnRUcmlnZ2VyZWQoZXZlbnREYXRhKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBpZiAodGhpcy5tb2RlICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICAgICAgdGhpcy4jZXZlbnRTb3VyY2Uub25lcnJvciA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1NlcnZlclNlbnRFdmVudHNDbGllbnQgY29ubmVjdGlvbiBlcnJvcicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgICNvbkV2ZW50VHJpZ2dlcmVkKGV2ZW50RGF0YSkge1xyXG4gICAgICAgIGlmICh0aGlzLm1vZGUgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnU2VydmVyU2VudEV2ZW50c0NsaWVudDogU2VydmVyIHRyaWdnZXJlZCBldmVudCcsIGV2ZW50RGF0YSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodHlwZW9mIHRoaXMub25FdmVudCAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKHRoaXMuY29uc3RydWN0b3IubmFtZSArICcub25FdmVudCBpcyBub3QgZGVmaW5lZCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm9uRXZlbnQoZXZlbnREYXRhKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQge1NlcnZlclNlbnRFdmVudHNDbGllbnR9IGZyb20gXCIuLi9TZXJ2ZXJTZW50RXZlbnRzQ2xpZW50XCI7XHJcblxyXG4vKipcclxuICogU2VydmVyIFNlbnQgRXZlbnRzIGRyaXZlciBpbXBsZW1lbnRhdGlvbiBmb3IgYnJvd3NlcnMgdGhhdCBkbyBub3Qgc3VwcG9ydCBTaGFyZWQgV29ya2VyLlxyXG4gKiBUaGVzZSBhcmUgQW5kcm9pZCBtb2JpbGUgZGV2aWNlIGJyb3dzZXJzLlxyXG4gKiBAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvU2VydmVyLXNlbnRfZXZlbnRzL1VzaW5nX3NlcnZlci1zZW50X2V2ZW50c1xyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFNlcnZlclNlbnRFdmVudHMge1xyXG4gICAgLyoqXHJcbiAgICAgKiBAdHlwZSB7c3RyaW5nfG51bGx9XHJcbiAgICAgKi9cclxuICAgIGV2ZW50c1VybCA9IG51bGw7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAdHlwZSB7U2VydmVyU2VudEV2ZW50c0NsaWVudHxudWxsfVxyXG4gICAgICovXHJcbiAgICAjY2xpZW50ID0gbnVsbDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEB0eXBlIHtmdW5jdGlvbnxudWxsfVxyXG4gICAgICovXHJcbiAgICBvbkV2ZW50ID0gbnVsbDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEB0eXBlIHtzdHJpbmd8bnVsbH1cclxuICAgICAqL1xyXG4gICAgbW9kZSA9ICdwcm9kdWN0aW9uJztcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihldmVudHNVcmwsIG1vZGUgPSBudWxsKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudHNVcmwgPSBldmVudHNVcmw7XHJcbiAgICAgICAgaWYgKG1vZGUgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5tb2RlID0gbW9kZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5pbml0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICBpZiAodGhpcy4jY2xpZW50ICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm1vZGUgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnaW5pdCBTZXJ2ZXJTZW50RXZlbnRzIGRyaXZlcicpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy4jY2xpZW50ID0gbmV3IFNlcnZlclNlbnRFdmVudHNDbGllbnQodGhpcy5ldmVudHNVcmwsIHRoaXMubW9kZSk7XHJcbiAgICAgICAgdGhpcy4jY2xpZW50Lm9uRXZlbnQgPSAoZXZlbnREYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMub25FdmVudFRyaWdnZXJlZChldmVudERhdGEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvbkV2ZW50VHJpZ2dlcmVkKGV2ZW50RGF0YSkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5vbkV2ZW50ICE9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IodGhpcy5jb25zdHJ1Y3Rvci5uYW1lICsgJy5vbkV2ZW50IGlzIG5vdCBkZWZpbmVkJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMub25FdmVudChldmVudERhdGEpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHtTZXJ2ZXJTZW50RXZlbnRzfSBmcm9tICcuL1NlcnZlclNlbnRFdmVudHMnO1xyXG5cclxuLyoqXHJcbiAqIFNlcnZlciBTZW50IEV2ZW50cyBkcml2ZXIgaW1wbGVtZW50YXRpb24gdmlhIFNoYXJlZFdvcmtlci5cclxuICpcclxuICogQGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1NlcnZlci1zZW50X2V2ZW50cy9Vc2luZ19zZXJ2ZXItc2VudF9ldmVudHNcclxuICogQGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1NoYXJlZFdvcmtlclxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFNlcnZlclNlbnRFdmVudHNTaGFyZWRXb3JrZXIgZXh0ZW5kcyBTZXJ2ZXJTZW50RXZlbnRzIHtcclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMubW9kZSAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdpbml0IFNlcnZlclNlbnRFdmVudHNTaGFyZWRXb3JrZXIgZHJpdmVyJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCB3b3JrZXIgPSBuZXcgU2hhcmVkV29ya2VyKCcvanMvc2hhcmVkV29ya2VyU1NFLm1pbi5qcycpO1xyXG4gICAgICAgICAgICBjb25zdCBwb3J0ID0gd29ya2VyLnBvcnQ7XHJcblxyXG4gICAgICAgICAgICBwb3J0LnBvc3RNZXNzYWdlKHtjb25maWc6IHt1cmw6IHRoaXMuZXZlbnRzVXJsLCBtb2RlOiB0aGlzLm1vZGV9fSk7XHJcblxyXG4gICAgICAgICAgICBwb3J0Lm9ubWVzc2FnZSA9IChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubW9kZSAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1NlcnZlclNlbnRFdmVudHNTaGFyZWRXb3JrZXIgZXZlbnQnLCBldmVudC5kYXRhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMub25FdmVudFRyaWdnZXJlZChldmVudC5kYXRhKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQge1NlcnZlclNlbnRFdmVudHNTaGFyZWRXb3JrZXJ9IGZyb20gXCIuL2RyaXZlci9TZXJ2ZXJTZW50RXZlbnRzU2hhcmVkV29ya2VyXCI7XHJcbmltcG9ydCB7U2VydmVyU2VudEV2ZW50c30gZnJvbSBcIi4vZHJpdmVyL1NlcnZlclNlbnRFdmVudHNcIjtcclxuXHJcbi8qKlxyXG4gKiBTZXJ2ZXIgZXZlbnRzXHJcbiAqIEBwYWNrYWdlIENvdG9udGlcclxuICogQGNvcHlyaWdodCAoYykgQ290b250aSBUZWFtXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgU2VydmVyRXZlbnRzIHtcclxuICAgIC8qKlxyXG4gICAgICogQHR5cGUge251bGx8U2VydmVyU2VudEV2ZW50c1NoYXJlZFdvcmtlcnxTZXJ2ZXJTZW50RXZlbnRzfVxyXG4gICAgICovXHJcbiAgICAjZHJpdmVyID0gbnVsbDtcclxuXHJcbiAgICAjb2JzZXJ2ZXJzUmVnaXN0cnkgPSBudWxsO1xyXG5cclxuICAgIG1vZGUgPSAncHJvZHVjdGlvbic7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy4jb2JzZXJ2ZXJzUmVnaXN0cnkgPSBuZXcgTWFwKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50XHJcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja1xyXG4gICAgICovXHJcbiAgICBhZGRPYnNlcnZlcihuYW1lLCBldmVudCwgY2FsbGJhY2spIHtcclxuICAgICAgICB0aGlzLiNvYnNlcnZlcnNSZWdpc3RyeS5zZXQobmFtZSwge1xyXG4gICAgICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgICAgICBldmVudDogZXZlbnQsXHJcbiAgICAgICAgICAgIG9uRXZlbnQ6IGNhbGxiYWNrXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLiNkcml2ZXIgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy4jaW5pdERyaXZlcigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAjaW5pdERyaXZlcigpIHtcclxuICAgICAgICBjb25zdCB1cmwgPSBnZXRCYXNlSHJlZigpICsgJ2luZGV4LnBocD9uPXNlcnZlci1ldmVudHMnO1xyXG4gICAgICAgIGlmICh0eXBlb2YgU2hhcmVkV29ya2VyICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMubW9kZSAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnY3JlYXRpbmcgU2VydmVyU2VudEV2ZW50c1NoYXJlZFdvcmtlciBkcml2ZXInKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLiNkcml2ZXIgPSBuZXcgU2VydmVyU2VudEV2ZW50c1NoYXJlZFdvcmtlcih1cmwsIHRoaXMubW9kZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMubW9kZSAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnY3JlYXRpbmcgU2VydmVyU2VudEV2ZW50cyBkcml2ZXInKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLiNkcml2ZXIgPSBuZXcgU2VydmVyU2VudEV2ZW50cyh1cmwsIHRoaXMubW9kZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLiNkcml2ZXIub25FdmVudCA9IChldmVudERhdGEpID0+IHtcclxuICAgICAgICAgICAgdGhpcy4jZXZlbnRUcmlnZ2VyZWQoZXZlbnREYXRhKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy4jZHJpdmVyLm1vZGUgPSB0aGlzLm1vZGU7XHJcbiAgICB9XHJcblxyXG4gICAgI2V2ZW50VHJpZ2dlcmVkKGV2ZW50RGF0YSkge1xyXG4gICAgICAgIGlmICh0aGlzLm1vZGUgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnU2VydmVyIHRyaWdnZXJlZCBldmVudCcsIGV2ZW50RGF0YSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLiNvYnNlcnZlcnNSZWdpc3RyeS5mb3JFYWNoKChvYnNlcnZlcikgPT4ge1xyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICBvYnNlcnZlci5ldmVudCA9PT0gZXZlbnREYXRhLmV2ZW50XHJcbiAgICAgICAgICAgICAgICAmJiB0eXBlb2Ygb2JzZXJ2ZXIub25FdmVudCA9PT0gJ2Z1bmN0aW9uJ1xyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIG9ic2VydmVyLm9uRXZlbnQoZXZlbnREYXRhLmRhdGEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCIvKipcclxuICogVG9hc3RcclxuICogU2hvdyBUb2FzdHMgcHJvZ3JhbW1hdGljYWxseVxyXG4gKiBAcGFja2FnZSBDb3RvbnRpXHJcbiAqIEBjb3B5cmlnaHQgKGMpIENvdG9udGkgVGVhbVxyXG4gKlxyXG4gKiBAbGluayBodHRwczovL2dldGJvb3RzdHJhcC5jb20vZG9jcy81LjMvY29tcG9uZW50cy90b2FzdHMvXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgVG9hc3Qge1xyXG4gICAgc3RhdGljIGNvbnRhaW5lckNsYXNzID0gJ3RvYXN0LWNvbnRhaW5lciBwb3NpdGlvbi1maXhlZCBib3R0b20tMCBlbmQtMCBwLTMnO1xyXG5cclxuICAgIHRpdGxlID0gJyc7XHJcbiAgICBtZXNzYWdlID0gJyc7XHJcbiAgICBoaW50ID0gJyc7XHJcbiAgICB0eXBlID0gJyc7XHJcbiAgICBkZWxheSA9IDUwMDA7XHJcblxyXG4gICAgI2NvbnRhaW5lciA9IG51bGw7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdGl0bGVcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gaGludFxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IodGl0bGUsIG1lc3NhZ2UsIGhpbnQgPSAnJywgdHlwZSA9ICcnKSB7XHJcbiAgICAgICAgaWYgKHdpbmRvdy5ib290c3RyYXAgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdCb290c3RyYXAgaXMgbm90IGZvdW5kLiBJdCBpcyByZXF1aXJlZCBmb3IgdXNlIFwiVG9hc3RcIiBjb21wb25lbnQnKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy50aXRsZSA9IHRpdGxlO1xyXG4gICAgICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XHJcbiAgICAgICAgdGhpcy5oaW50ID0gaGludDtcclxuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xyXG4gICAgfVxyXG5cclxuICAgIHNob3coKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuI2NvbnRhaW5lciA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICBsZXQgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvYXN0LWNvbnRhaW5lcicpO1xyXG4gICAgICAgICAgICBpZiAoY29udGFpbmVyID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBjb250YWluZXIgPSB0aGlzLiNjcmVhdGVDb250YWluZXIoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLiNjb250YWluZXIgPSBjb250YWluZXI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCB0b2FzdFRpdGxlID0gdGhpcy50aXRsZSAhPT0gJycgPyBgPHN0cm9uZyBjbGFzcz1cIm1lLWF1dG9cIj4ke3RoaXMudGl0bGV9PC9zdHJvbmc+YCA6ICcnO1xyXG4gICAgICAgIGNvbnN0IHRvYXN0SGludCA9IHRoaXMuaGludCAhPT0gJycgPyBgPHNtYWxsPiR7dGhpcy5oaW50fTwvc21hbGw+YCA6ICcnO1xyXG4gICAgICAgIGNvbnN0IGJhY2tHcm91bmQgPSB0aGlzLnR5cGUgIT09ICcnID8gYCB0ZXh0LWJnLSR7dGhpcy50eXBlfWAgOiAnJztcclxuXHJcbiAgICAgICAgY29uc3QgdG9hc3RIVE1MID0gYDxkaXYgY2xhc3M9XCJ0b2FzdCR7YmFja0dyb3VuZH1cIiByb2xlPVwiYWxlcnRcIiBhcmlhLWxpdmU9XCJhc3NlcnRpdmVcIiBhcmlhLWF0b21pYz1cInRydWVcIiBgXHJcbiAgICAgICAgICAgICAgICArIGBkYXRhLWJzLWRlbGF5PVwiJHt0aGlzLmRlbGF5fVwiPmBcclxuICAgICAgICAgICAgKyAnPGRpdiBjbGFzcz1cInRvYXN0LWhlYWRlclwiPidcclxuICAgICAgICAgICAgICArIGAke3RvYXN0VGl0bGV9JHt0b2FzdEhpbnR9YFxyXG4gICAgICAgICAgICAgICsgJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuLWNsb3NlXCIgZGF0YS1icy1kaXNtaXNzPVwidG9hc3RcIiBhcmlhLWxhYmVsPVwiQ2xvc2VcIj48L2J1dHRvbj4nXHJcbiAgICAgICAgICAgICsgJzwvZGl2PidcclxuICAgICAgICAgICAgKyBgPGRpdiBjbGFzcz1cInRvYXN0LWJvZHlcIj4ke3RoaXMubWVzc2FnZX08L2Rpdj5gXHJcbiAgICAgICAgICArICc8L2Rpdj4nO1xyXG5cclxuICAgICAgICBjb25zdCB0b2FzdFdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICB0b2FzdFdyYXBwZXIuaW5uZXJIVE1MID0gdG9hc3RIVE1MO1xyXG5cclxuICAgICAgICBjb25zdCB0b2FzdEVsZW1lbnQgPSB0b2FzdFdyYXBwZXIuZmlyc3RFbGVtZW50Q2hpbGQ7XHJcblxyXG4gICAgICAgIC8vIEFwcGVuZCB0aGUgdG9hc3QgdG8gdGhlIGNvbnRhaW5lclxyXG4gICAgICAgIHRoaXMuI2NvbnRhaW5lci5hcHBlbmRDaGlsZCh0b2FzdEVsZW1lbnQpO1xyXG5cclxuICAgICAgICAvLyBJbml0aWFsaXplIHRoZSB0b2FzdFxyXG4gICAgICAgIGNvbnN0IHRvYXN0ID0gbmV3IHdpbmRvdy5ib290c3RyYXAuVG9hc3QodG9hc3RFbGVtZW50KTtcclxuICAgICAgICB0b2FzdC5zaG93KCk7XHJcblxyXG4gICAgICAgIC8vIE9wdGlvbmFsbHkgcmVtb3ZlIHRoZSB0b2FzdCBmcm9tIHRoZSBET00gYWZ0ZXIgaXQgaGlkZXNcclxuICAgICAgICB0aGlzLiNjb250YWluZXIubGFzdEVsZW1lbnRDaGlsZC5hZGRFdmVudExpc3RlbmVyKCdoaWRkZW4uYnMudG9hc3QnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRvYXN0RWxlbWVudC5yZW1vdmUoKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuI2NvbnRhaW5lci5pbm5lckhUTUwgPT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiNjb250YWluZXIucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiNjb250YWluZXIgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgI2NyZWF0ZUNvbnRhaW5lcigpIHtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICByZXN1bHQuaWQgPSAndG9hc3QtY29udGFpbmVyJztcclxuICAgICAgICByZXN1bHQuY2xhc3NOYW1lID0gVG9hc3QuY29udGFpbmVyQ2xhc3M7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmQocmVzdWx0KTtcclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG59IiwiLyoqXHJcbiAqIE1vZGFsXHJcbiAqIFNob3cgTW9kYWwgcHJvZ3JhbW1hdGljYWxseVxyXG4gKiBAcGFja2FnZSBDb3RvbnRpXHJcbiAqIEBjb3B5cmlnaHQgKGMpIENvdG9udGkgVGVhbVxyXG4gKlxyXG4gKiBAbGluayBodHRwczovL2dldGJvb3RzdHJhcC5jb20vZG9jcy81LjMvY29tcG9uZW50cy9tb2RhbC9cclxuICovXHJcbmV4cG9ydCBjbGFzcyBNb2RhbCB7XHJcbiAgICB0aXRsZSA9ICcnO1xyXG4gICAgY29udGVudCA9ICcnO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHR5cGUgeyh7bGFiZWw6IFN0cmluZywgb25DbGljazogZnVuY3Rpb24sIGNsb3NlT25DbGljazogYm9vbCwgdHlwZTogc3RyaW5nfXxzdHJpbmcpW118bnVsbH1cclxuICAgICAqL1xyXG4gICAgYnV0dG9ucyA9IG51bGw7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBWZXJ0aWNhbGx5IGNlbnRlcmVkXHJcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cclxuICAgICAqL1xyXG4gICAgY2VudGVyZWQgPSBmYWxzZTtcclxuXHJcbiAgICBkaWFsb2dDbGFzcyA9ICdtb2RhbC1kaWFsb2cnO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHR5cGUge0VsZW1lbnR9XHJcbiAgICAgKi9cclxuICAgICNlbGVtZW50ID0gbnVsbDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0aXRsZVxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGNvbnRlbnRcclxuICAgICAqIEBwYXJhbSB7KHtcclxuICAgICAqICAgIGxhYmVsOiBTdHJpbmcsXHJcbiAgICAgKiAgICBvbkNsaWNrOiBmdW5jdGlvbnx1bmRlZmluZWQsXHJcbiAgICAgKiAgICBjbG9zZU9uQ2xpY2s6IGJvb2x8dW5kZWZpbmVkLFxyXG4gICAgICogICAgdHlwZTogc3RyaW5nfHVuZGVmaW5lZCxcclxuICAgICAqICAgIGJ0blR5cGU6IHN0cmluZ3x1bmRlZmluZWRcclxuICAgICAqICB9fHN0cmluZylbXXxudWxsfSBidXR0b25zXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHRpdGxlLCBjb250ZW50LCBidXR0b25zKSB7XHJcbiAgICAgICAgaWYgKHdpbmRvdy5ib290c3RyYXAgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdCb290c3RyYXAgaXMgbm90IGZvdW5kLiBJdCBpcyByZXF1aXJlZCBmb3IgdXNlIFwiTW9kYWxcIiBjb21wb25lbnQnKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy50aXRsZSA9IHRpdGxlO1xyXG4gICAgICAgIHRoaXMuY29udGVudCA9IGNvbnRlbnQ7XHJcbiAgICAgICAgdGhpcy5idXR0b25zID0gYnV0dG9ucztcclxuICAgIH1cclxuXHJcbiAgICBzaG93KCkge1xyXG4gICAgICAgIGxldCBkaWFsb2dDbGFzcyA9IHRoaXMuZGlhbG9nQ2xhc3M7XHJcbiAgICAgICAgaWYgKHRoaXMuY2VudGVyZWQpIHtcclxuICAgICAgICAgICAgZGlhbG9nQ2xhc3MgKz0gJyBtb2RhbC1kaWFsb2ctY2VudGVyZWQnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgbW9kYWxIVE1MID0gJzxkaXYgY2xhc3M9XCJtb2RhbCBmYWRlXCIgaWQ9XCJDb3RvbnRpRHluYW1pY01vZGFsXCIgdGFiaW5kZXg9XCItMVwiICdcclxuICAgICAgICAgICAgICAgICsgJ2FyaWEtbGFiZWxsZWRieT1cIkNvdG9udGlEeW5hbWljTW9kYWxMYWJlbFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPidcclxuICAgICAgICAgICsgYDxkaXYgY2xhc3M9XCIke2RpYWxvZ0NsYXNzfVwiPmBcclxuICAgICAgICAgICAgKyAnPGRpdiBjbGFzcz1cIm1vZGFsLWNvbnRlbnRcIj4nXHJcbiAgICAgICAgICAgICAgKyAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPidcclxuICAgICAgICAgICAgICAgICsgYDxoNSBjbGFzcz1cIm1vZGFsLXRpdGxlXCIgaWQ9XCJDb3RvbnRpRHluYW1pY01vZGFsTGFiZWxcIj4ke3RoaXMudGl0bGV9PC9oNT5gXHJcbiAgICAgICAgICAgICAgICArICc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0bi1jbG9zZVwiIGRhdGEtYnMtZGlzbWlzcz1cIm1vZGFsXCIgYXJpYS1sYWJlbD1cIkNsb3NlXCI+PC9idXR0b24+J1xyXG4gICAgICAgICAgICAgICsgJzwvZGl2PidcclxuICAgICAgICAgICAgICArIGA8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPiR7dGhpcy5jb250ZW50fTwvZGl2PmBcclxuICAgICAgICAgICAgICArICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PC9kaXY+J1xyXG4gICAgICAgICAgICArICc8L2Rpdj4nXHJcbiAgICAgICAgICArICc8L2Rpdj4nXHJcbiAgICAgICAgKyAnPC9kaXY+JztcclxuXHJcbiAgICAgICAgY29uc3QgbW9kYWxXcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgbW9kYWxXcmFwcGVyLmlubmVySFRNTCA9IG1vZGFsSFRNTDtcclxuICAgICAgICB0aGlzLiNlbGVtZW50ID0gbW9kYWxXcmFwcGVyLmZpcnN0RWxlbWVudENoaWxkO1xyXG5cclxuICAgICAgICB0aGlzLiNhZGRCdXR0b25zKCk7XHJcblxyXG4gICAgICAgIC8vIEFwcGVuZCB0aGUgbW9kYWwgdG8gdGhlIGJvZHlcclxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuI2VsZW1lbnQpO1xyXG5cclxuICAgICAgICAvLyBJbml0aWFsaXplIGFuZCBzaG93IHRoZSBtb2RhbFxyXG4gICAgICAgIGNvbnN0IG1vZGFsID0gbmV3IGJvb3RzdHJhcC5Nb2RhbCh0aGlzLiNlbGVtZW50KTtcclxuICAgICAgICBtb2RhbC5zaG93KCk7XHJcblxyXG4gICAgICAgIC8vIFJlbW92ZSB0aGUgbW9kYWwgZnJvbSB0aGUgRE9NIGFmdGVyIGl0IGlzIGhpZGRlblxyXG4gICAgICAgIHRoaXMuI2VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignaGlkZGVuLmJzLm1vZGFsJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLiNlbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgICNhZGRCdXR0b25zKCkge1xyXG4gICAgICAgIGNvbnN0IGJ1dHRvbnMgPSB0aGlzLiNidWlsZEJ1dHRvbnMoKTtcclxuXHJcbiAgICAgICAgaWYgKGJ1dHRvbnMgPT09ICcnIHx8IGJ1dHRvbnMgPT09IFtdKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuI2VsZW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsLWZvb3RlcicpO1xyXG5cclxuICAgICAgICBpZiAodHlwZW9mIGJ1dHRvbnMgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSBidXR0b25zO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShidXR0b25zKSkge1xyXG4gICAgICAgICAgICBidXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBidXR0b24gPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLmlubmVySFRNTCArPSBidXR0b247XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGJ1dHRvbik7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgICNidWlsZEJ1dHRvbnMoKSB7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gW107XHJcbiAgICAgICAgbGV0IGJ1dHRvbnMgPSB0aGlzLmJ1dHRvbnM7XHJcbiAgICAgICAgaWYgKGJ1dHRvbnMgPT09IFtdKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoYnV0dG9ucyA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICByZXR1cm4gJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1zZWNvbmRhcnlcIiBkYXRhLWJzLWRpc21pc3M9XCJtb2RhbFwiPkNsb3NlPC9idXR0b24+JztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0eXBlb2YgYnV0dG9ucyA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGJ1dHRvbnM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShidXR0b25zKSkge1xyXG4gICAgICAgICAgICBidXR0b25zLmZvckVhY2goKGJ1dHRvbkRhdGEpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYnV0dG9uRGF0YSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChidXR0b25EYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoYnV0dG9uRGF0YS5sYWJlbCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uLmlubmVySFRNTCA9IGJ1dHRvbkRhdGEubGFiZWw7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgndHlwZScsIGJ1dHRvbkRhdGEuYnRuVHlwZSAhPT0gdW5kZWZpbmVkID8gYnV0dG9uRGF0YS5idG5UeXBlIDogJ2J1dHRvbicpO1xyXG4gICAgICAgICAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2J0bicpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChidXR0b25EYXRhLnR5cGUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdidG4tJyArIGJ1dHRvbkRhdGEudHlwZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGJ1dHRvbkRhdGEuY2xvc2VPbkNsaWNrICE9PSB1bmRlZmluZWQgJiYgYnV0dG9uRGF0YS5jbG9zZU9uQ2xpY2sgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKCdkYXRhLWJzLWRpc21pc3MnLCAnbW9kYWwnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoYnV0dG9uRGF0YS5vbkNsaWNrICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIGJ1dHRvbkRhdGEub25DbGljayA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge3JldHVybiBidXR0b25EYXRhLm9uQ2xpY2soZXZlbnQpfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goYnV0dG9uKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQge1NlcnZlckV2ZW50c30gZnJvbSAnLi9zZXJ2ZXJFdmVudHMvU2VydmVyRXZlbnRzLmpzJztcclxuaW1wb3J0IHtUb2FzdH0gZnJvbSBcIi4vVG9hc3RcIjtcclxuaW1wb3J0IHtNb2RhbH0gZnJvbSBcIi4vTW9kYWxcIjtcclxuXHJcbi8qKlxyXG4gKiBCYXNlIENvdG9udGkgY2xhc3NcclxuICovXHJcbmNsYXNzIENvdG9udGlBcHBsaWNhdGlvblxyXG57XHJcbiAgICAjc2V2ZXJFdmVudHMgPSBudWxsO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IFNlcnZlciBFdmVudHMgb2JqZWN0XHJcbiAgICAgKiBAcmV0dXJucyB7U2VydmVyRXZlbnRzfVxyXG4gICAgICovXHJcbiAgICBnZXRTZXJ2ZXJFdmVudHMoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuI3NldmVyRXZlbnRzID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuI3NldmVyRXZlbnRzID0gbmV3IFNlcnZlckV2ZW50cygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy4jc2V2ZXJFdmVudHM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTaG93IENvbmZpcm0gZGlhbG9nIG1vZGFsXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdGl0bGVcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBjb250ZW50XHJcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja1xyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG9rTGFiZWxcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBjYW5jZWxMYWJlbFxyXG4gICAgICogQHRvZG8gdHJhbnNsYXRlZCBkZWZhdWx0IGxhYmVsc1xyXG4gICAgICovXHJcbiAgICBjb25maXJtKHRpdGxlLCBjb250ZW50LCBjYWxsYmFjaywgb2tMYWJlbCA9ICdPaycsIGNhbmNlbExhYmVsID0gJ0NhbmNlbCcpIHtcclxuICAgICAgICB0aGlzLm1vZGFsKHRpdGxlLCBjb250ZW50LCBbXHJcbiAgICAgICAgICAgIHtsYWJlbDogb2tMYWJlbCwgb25DbGljazogKGV2ZW50KSA9PiB7cmV0dXJuIGNhbGxiYWNrKGV2ZW50KX0sIHR5cGU6ICdwcmltYXJ5JywgY2xvc2VPbkNsaWNrOiB0cnVlfSxcclxuICAgICAgICAgICAge2xhYmVsOiBjYW5jZWxMYWJlbCwgY2xvc2VPbkNsaWNrOiB0cnVlLCB0eXBlOiAnc2Vjb25kYXJ5J31cclxuICAgICAgICBdKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgTW9kYWwgaW5zdGFuY2VcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0aXRsZVxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGNvbnRlbnRcclxuICAgICAqIEBwYXJhbSB7KHtcclxuICAgICAqICAgIGxhYmVsOiBTdHJpbmcsXHJcbiAgICAgKiAgICBvbkNsaWNrOiBmdW5jdGlvbnx1bmRlZmluZWQsXHJcbiAgICAgKiAgICBjbG9zZU9uQ2xpY2s6IGJvb2x8dW5kZWZpbmVkLFxyXG4gICAgICogICAgdHlwZTogc3RyaW5nfHVuZGVmaW5lZCxcclxuICAgICAqICAgIGJ0blR5cGU6IHN0cmluZ3x1bmRlZmluZWRcclxuICAgICAqICB9fHN0cmluZylbXXxudWxsfSBidXR0b25zXHJcbiAgICAgKiAgQHJldHVybnMgTW9kYWxcclxuICAgICAqL1xyXG4gICAgZ2V0TW9kYWwodGl0bGUsIGNvbnRlbnQsIGJ1dHRvbnM9IG51bGwpIHtcclxuICAgICAgICByZXR1cm4gbmV3IE1vZGFsKHRpdGxlLCBjb250ZW50LCBidXR0b25zKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNob3cgTW9kYWwgcHJvZ3JhbW1hdGljYWxseVxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHRpdGxlXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gY29udGVudFxyXG4gICAgICogQHBhcmFtIHsoe1xyXG4gICAgICogICAgbGFiZWw6IFN0cmluZyxcclxuICAgICAqICAgIG9uQ2xpY2s6IGZ1bmN0aW9ufHVuZGVmaW5lZCxcclxuICAgICAqICAgIGNsb3NlT25DbGljazogYm9vbHx1bmRlZmluZWQsXHJcbiAgICAgKiAgICB0eXBlOiBzdHJpbmd8dW5kZWZpbmVkLFxyXG4gICAgICogICAgYnRuVHlwZTogc3RyaW5nfHVuZGVmaW5lZFxyXG4gICAgICogIH18c3RyaW5nKVtdfG51bGx9IGJ1dHRvbnNcclxuICAgICAqICBAcmV0dXJucyBNb2RhbFxyXG4gICAgICovXHJcbiAgICBtb2RhbCh0aXRsZSwgY29udGVudCwgYnV0dG9ucz0gbnVsbCkge1xyXG4gICAgICAgIGNvbnN0IG1vZGFsID0gdGhpcy5nZXRNb2RhbCh0aXRsZSwgY29udGVudCwgYnV0dG9ucyk7XHJcbiAgICAgICAgbW9kYWwuc2hvdygpO1xyXG4gICAgICAgIHJldHVybiBtb2RhbDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNob3cgVG9hc3RzIHByb2dyYW1tYXRpY2FsbHlcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0aXRsZVxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2VcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBoaW50XHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxyXG4gICAgICogQHJldHVybnMgVG9hc3RcclxuICAgICAqL1xyXG4gICAgZ2V0VG9hc3QodGl0bGUsIG1lc3NhZ2UsIGhpbnQgPSAnJywgdHlwZSA9ICcnKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBUb2FzdCh0aXRsZSwgbWVzc2FnZSwgaGludCwgdHlwZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTaG93IFRvYXN0cyBwcm9ncmFtbWF0aWNhbGx5XHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdGl0bGVcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gaGludFxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBkZWxheVxyXG4gICAgICovXHJcbiAgICB0b2FzdCh0aXRsZSwgbWVzc2FnZSwgaGludCA9ICcnLCB0eXBlID0gJycsIGRlbGF5ID0gNTAwMCkge1xyXG4gICAgICAgIGNvbnN0IHRvYXN0ID0gdGhpcy5nZXRUb2FzdCh0aXRsZSwgbWVzc2FnZSwgaGludCwgdHlwZSk7XHJcblxyXG4gICAgICAgIGlmIChkZWxheSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0b2FzdC5kZWxheSA9IGRlbGF5XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0b2FzdC5zaG93KCk7XHJcbiAgICAgICAgcmV0dXJuIHRvYXN0O1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIExvYWQgZGF0YSBmcm9tIC9pbmRleC5waHA/bj1tYWluJmE9Z2V0XHJcbiAgICAgKiBDYW4gYmUgdXNlZnVsLCBmb3IgZXhhbXBsZSB3aGVuIGl0IGlzIG5lZWRlZCB0byBsb2FkIHNvbWUgZHluYW1pYyBjb250ZW50IHRvIGNhY2hlZCBwYWdlXHJcbiAgICAgKlxyXG4gICAgICogRXhhbXBsZTpcclxuICAgICAqIGNvdC5sb2FkRGF0YShbJ2NhcHRjaGEnLCAneCddKS50aGVuKHJlc3VsdCA9PiB7XHJcbiAgICAgKiAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xyXG4gICAgICogfSk7XHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHdoYXQgQXJyYXkgb3Igc3RyaW5nLiBEYXRhIHRvIGxvYWQuIEZvciBleGFtcGxlLCBbJ2NhcHRjaGEnLCAneCddICh4IC0gYW50aSBYU1MgcGFyYW1ldGVyIHZhbHVlKVxyXG4gICAgICogQHJldHVybnMge1Byb21pc2U8e30+fVxyXG4gICAgICovXHJcbiAgICBhc3luYyBsb2FkRGF0YSh3aGF0KSB7XHJcbiAgICAgICAgaWYgKCF3aGF0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7fTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmxvYWRlZERhdGEgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRlZERhdGEgPSB7fTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBkYXRhVG9Mb2FkID0gW107XHJcblxyXG4gICAgICAgIGlmICh0eXBlb2Ygd2hhdCA9PT0gJ3N0cmluZycgfHwgd2hhdCBpbnN0YW5jZW9mIFN0cmluZykge1xyXG4gICAgICAgICAgICB3aGF0ID0gW3doYXRdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yIChsZXQgaXRlbSBvZiB3aGF0KSB7XHJcbiAgICAgICAgICAgIGlmICghKGl0ZW0gaW4gdGhpcy5sb2FkZWREYXRhKSkge1xyXG4gICAgICAgICAgICAgICAgZGF0YVRvTG9hZC5wdXNoKGl0ZW0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoZGF0YVRvTG9hZC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIC8vIEB0b2RvIGNoYW5nZSB0byBzeXN0ZW0gY29udHJvbGxlciB3aGVuIGl0IHdpbGwgYmUgaW1wbGVtZW50ZWRcclxuICAgICAgICAgICAgbGV0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoe246ICdtYWluJywgYTogJ2dldCd9KTtcclxuXHJcbiAgICAgICAgICAgIGRhdGFUb0xvYWQuZm9yRWFjaCgoaXRlbSwgaW5kZXgsIGFycmF5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBwYXJhbXMuYXBwZW5kKCdkYXRhWycgKyBpbmRleCArICddJywgaXRlbSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBwYXJhbXMuYXBwZW5kKCdfYWpheCcsIDEpO1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJ2luZGV4LnBocD8nICsgcGFyYW1zLnRvU3RyaW5nKCkpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5vaykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2VEYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcmVzcG9uc2VEYXRhLmRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGVkRGF0YVtrZXldID0gcmVzcG9uc2VEYXRhLmRhdGFba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEhUVFAgZXJyb3JcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIC8vIFJlcXVlc3QgZXJyb3JcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IHt9O1xyXG4gICAgICAgIGZvciAobGV0IGl0ZW0gb2Ygd2hhdCkge1xyXG4gICAgICAgICAgICBpZiAoKGl0ZW0gaW4gdGhpcy5sb2FkZWREYXRhKSkge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0W2l0ZW1dID0gdGhpcy5sb2FkZWREYXRhW2l0ZW1dO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTG9hZCBjYXB0Y2hhIHZpYSBhamF4LiBVc2VkIG9uIGNhY2hlZCBwYWdlcy5cclxuICAgICAqL1xyXG4gICAgbG9hZENhcHRjaGEoKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkRGF0YShbJ2NhcHRjaGEnLCAneCddKS50aGVuKHJlc3VsdCA9PiB7XHJcbiAgICAgICAgICAgIGxldCBjYXB0Y2hhRWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2FwdGNoYS1wbGFjZS1ob2xkZXInKTtcclxuICAgICAgICAgICAgZm9yIChsZXQgZWxlbWVudCBvZiBjYXB0Y2hhRWxlbWVudHMpIHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gcmVzdWx0LmNhcHRjaGE7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmV4ZWN1dGVTY3JpcHRFbGVtZW50cyhlbGVtZW50KTtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnY2FwdGNoYS1wbGFjZS1ob2xkZXInLCAnbG9hZGluZycpO1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdjYXB0Y2hhJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgZm9ybSA9IGVsZW1lbnQuY2xvc2VzdCgnZm9ybScpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGZvcm0gIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgaW5wdXRYID0gZm9ybS5xdWVyeVNlbGVjdG9yKCdpbnB1dFt0eXBlPVwiaGlkZGVuXCJdW25hbWU9XCJ4XCJdJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0WCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dFguc2V0QXR0cmlidXRlKCd2YWx1ZScsIHJlc3VsdC54KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIElmIHlvdSBhcHBlbmQgPHNjcmlwdD4gdGFncyB0byB0aGUgZWxlbWVudHMgb2YgdGhlIGZpbmlzaGVkIERPTSBkb2N1bWVudCwgdGhleSB3aWxsIG5vdCBiZSBleGVjdXRlZCBhdXRvbWF0aWNhbGx5LlxyXG4gICAgICogVGhlIG1ldGhvZCBleGVjdXRlcyA8c2NyaXB0PiBzY3JpcHRzIG5lc3RlZCBpbiB0aGUgc3BlY2lmaWVkIGVsZW1lbnRcclxuICAgICAqIEBwYXJhbSBjb250YWluZXJFbGVtZW50IE5vZGVcclxuICAgICAqL1xyXG4gICAgZXhlY3V0ZVNjcmlwdEVsZW1lbnRzKGNvbnRhaW5lckVsZW1lbnQpIHtcclxuICAgICAgICBjb25zdCBzY3JpcHRFbGVtZW50cyA9IGNvbnRhaW5lckVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnc2NyaXB0Jyk7XHJcblxyXG4gICAgICAgIEFycmF5LmZyb20oc2NyaXB0RWxlbWVudHMpLmZvckVhY2goKHNjcmlwdEVsZW1lbnQpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgY2xvbmVkRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xyXG4gICAgICAgICAgICBBcnJheS5mcm9tKHNjcmlwdEVsZW1lbnQuYXR0cmlidXRlcykuZm9yRWFjaCgoYXR0cmlidXRlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjbG9uZWRFbGVtZW50LnNldEF0dHJpYnV0ZShhdHRyaWJ1dGUubmFtZSwgYXR0cmlidXRlLnZhbHVlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNsb25lZEVsZW1lbnQudGV4dCA9IHNjcmlwdEVsZW1lbnQudGV4dDtcclxuICAgICAgICAgICAgc2NyaXB0RWxlbWVudC5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChjbG9uZWRFbGVtZW50LCBzY3JpcHRFbGVtZW50KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cclxud2luZG93LmNvdCA9IG5ldyBDb3RvbnRpQXBwbGljYXRpb24oKTtcclxuIl19
